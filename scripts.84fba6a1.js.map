{"version":3,"sources":["29 - Countdown Timer/scripts/index.js"],"names":["countdown","timerBtns","document","querySelectorAll","timerFormElement","querySelector","timeLeftElement","endTimeElement","displayTimeLeft","seconds","minutes","Math","floor","remainderSeconds","displayTime","title","textContent","displayEndTime","timestamp","end","Date","hours","getHours","getMinutes","timer","clearInterval","now","then","setInterval","secondsLeft","round","startTimer","parseInt","dataset","time","forEach","button","addEventListener","e","preventDefault","target","value","reset"],"mappings":";AAIA,IASIA,EATEC,EAAYC,SAASC,iBAAiB,oBACtCC,EAAmBF,SAASG,cAAc,kBAC1CC,EAAkBJ,SAASG,cAAc,iBACzCE,EAAiBL,SAASG,cAAc,gBAY9C,SAASG,EAAgBC,GACjBC,IAAAA,EAAUC,KAAKC,MAAMH,EAAU,IAC/BI,EAAmBJ,EAAU,GAC7BK,EAAiBJ,GAAAA,OAAAA,EAAYG,KAAAA,OAAAA,EAAmB,GAAK,IAAM,IAAMA,OAAAA,GACvEX,SAASa,MAAQD,EACjBR,EAAgBU,YAAcF,EAGhC,SAASG,EAAeC,GAChBC,IAAAA,EAAM,IAAIC,KAAKF,GACfG,EAAQF,EAAIG,WACZZ,EAAUS,EAAII,aACpBhB,EAAeS,YAA6BK,cAAAA,OAAAA,EAAQ,GAAKA,EAAQ,GAAKA,EAAWX,KAAAA,OAAAA,EAAU,GAAK,IAAM,IAAMA,OAAAA,GAG9G,SAASc,EAAMf,GACbgB,cAAczB,GACR0B,IACAC,EADMP,KAAKM,MACa,IAAVjB,EACpBD,EAAgBC,GAChBQ,EAAeU,GACf3B,EAAY4B,YAAY,WAChBC,IAAAA,EAAclB,KAAKmB,OAAOH,EAAOP,KAAKM,OAAS,KACjDG,EAAc,EAChBJ,cAAczB,GAGhBQ,EAAgBqB,IACf,KAGL,SAASE,IAEPP,EADgBQ,SAAS,KAAKC,QAAQC,KAAM,KAQ9CjC,EAAUkC,QAAQ,SAAAC,GAAUA,OAAAA,EAAOC,iBAAiB,QAASN,KAC7D3B,EAAiBiC,iBAAiB,SAAU,SAACC,GAC3CA,EAAEC,iBAEFf,EAAgB,GADAc,EAAEE,OAAO9B,QAAQ+B,OAEjCH,EAAEE,OAAOE","file":"scripts.84fba6a1.js","sourceRoot":"../src","sourcesContent":["/*\n * Elements\n */\n\nconst timerBtns = document.querySelectorAll('.js-timer-button');\nconst timerFormElement = document.querySelector('.js-timer-form');\nconst timeLeftElement = document.querySelector('.js-time-left');\nconst endTimeElement = document.querySelector('.js-end-time');\n\n/*\n * Variables\n */\n\nlet countdown;\n\n/*\n * Functions\n */\n\nfunction displayTimeLeft(seconds) {\n  const minutes = Math.floor(seconds / 60);\n  const remainderSeconds = seconds % 60;\n  const displayTime = `${minutes}:${(remainderSeconds < 10 ? '0' : '')}${remainderSeconds}`;\n  document.title = displayTime;\n  timeLeftElement.textContent = displayTime;\n}\n\nfunction displayEndTime(timestamp) {\n  const end = new Date(timestamp);\n  const hours = end.getHours();\n  const minutes = end.getMinutes();\n  endTimeElement.textContent = `Be back at ${(hours > 12 ? hours - 12 : hours)}:${(minutes < 10 ? '0' : '')}${minutes}`;\n}\n\nfunction timer(seconds) {\n  clearInterval(countdown);\n  const now = Date.now();\n  const then = now + (seconds * 1000);\n  displayTimeLeft(seconds);\n  displayEndTime(then);\n  countdown = setInterval(() => {\n    const secondsLeft = Math.round((then - Date.now()) / 1000);\n    if (secondsLeft < 0) {\n      clearInterval(countdown);\n      return;\n    }\n    displayTimeLeft(secondsLeft);\n  }, 1000);\n}\n\nfunction startTimer() {\n  const seconds = parseInt(this.dataset.time, 10);\n  timer(seconds);\n}\n\n/*\n * Initialise\n */\n\ntimerBtns.forEach(button => button.addEventListener('click', startTimer));\ntimerFormElement.addEventListener('submit', (e) => {\n  e.preventDefault();\n  const minutes = e.target.minutes.value;\n  timer(minutes * 60);\n  e.target.reset();\n});\n"]}
{"version":3,"sources":["30 - Whack A Mole/scripts/index.js"],"names":["lastHole","scoreElement","document","querySelector","startBtn","holeElements","querySelectorAll","moleElements","timeouts","timeUp","score","randomTime","min","max","Math","round","random","randomHole","holes","index","hole","floor","length","peep","time","classList","add","push","setTimeout","remove","startGame","forEach","timeout","clearTimeout","textContent","bonk","e","isTrusted","addEventListener","mole"],"mappings":";AAIA,IASIA,EATEC,EAAeC,SAASC,cAAc,aACtCC,EAAWF,SAASC,cAAc,iBAClCE,EAAeH,SAASI,iBAAiB,YACzCC,EAAeL,SAASI,iBAAiB,YAO3CE,EAAW,GACXC,GAAS,EACTC,EAAQ,EAMZ,SAASC,EAAWC,EAAKC,GAChBC,OAAAA,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,GAGlD,SAASK,EAAWC,GACZC,IACAC,EAAOF,EADCJ,KAAKO,MAAMP,KAAKE,SAAWE,EAAMI,SAE3CF,OAAAA,IAASpB,EACJiB,EAAWC,IAEpBlB,EAAWoB,EACJA,GAGT,SAASG,IACDC,IAAAA,EAAOb,EAAW,IAAK,KACvBS,EAAOH,EAAWZ,GACxBe,EAAKK,UAAUC,IAAI,MACnBlB,EAASmB,KAAKC,WAAW,WACvBR,EAAKK,UAAUI,OAAO,MACjBpB,GACHc,KAEDC,IAGL,SAASM,IACPtB,EAASuB,QAAQ,SAAAC,GAAWC,OAAAA,aAAaD,KACzCxB,EAAW,GACXH,EAAa0B,QAAQ,SAAAX,GAAQA,OAAAA,EAAKK,UAAUI,OAAO,QACnD5B,EAAaiC,YAAc,EAC3BzB,GAAS,EACTC,EAAQ,EACRa,IACAf,EAASmB,KAAKC,WAAW,WACvBnB,GAAS,GACR,MAGL,SAAS0B,EAAKC,GAEPA,EAAEC,YAGP3B,GAAS,EACJe,KAAAA,UAAUI,OAAO,MACtB5B,EAAaiC,YAAcxB,GAO7BN,EAASkC,iBAAiB,QAASR,GACnCvB,EAAawB,QAAQ,SAAAQ,GAAQA,OAAAA,EAAKD,iBAAiB,QAASH","file":"scripts.c0fee3be.js","sourceRoot":"../src","sourcesContent":["/*\n * Elements\n */\n\nconst scoreElement = document.querySelector('.js-score');\nconst startBtn = document.querySelector('.js-start-btn');\nconst holeElements = document.querySelectorAll('.js-hole');\nconst moleElements = document.querySelectorAll('.js-mole');\n\n/*\n * Variables\n */\n\nlet lastHole;\nlet timeouts = [];\nlet timeUp = false;\nlet score = 0;\n\n/*\n * Functions\n */\n\nfunction randomTime(min, max) {\n  return Math.round(Math.random() * (max - min) + min);\n}\n\nfunction randomHole(holes) {\n  const index = Math.floor(Math.random() * holes.length);\n  const hole = holes[index];\n  if (hole === lastHole) {\n    return randomHole(holes);\n  }\n  lastHole = hole;\n  return hole;\n}\n\nfunction peep() {\n  const time = randomTime(200, 1000);\n  const hole = randomHole(holeElements);\n  hole.classList.add('up');\n  timeouts.push(setTimeout(() => {\n    hole.classList.remove('up');\n    if (!timeUp) {\n      peep();\n    }\n  }, time));\n}\n\nfunction startGame() {\n  timeouts.forEach(timeout => clearTimeout(timeout));\n  timeouts = [];\n  holeElements.forEach(hole => hole.classList.remove('up'));\n  scoreElement.textContent = 0;\n  timeUp = false;\n  score = 0;\n  peep();\n  timeouts.push(setTimeout(() => {\n    timeUp = true;\n  }, 10000));\n}\n\nfunction bonk(e) {\n  // fake click\n  if (!e.isTrusted) {\n    return;\n  }\n  score += 1;\n  this.classList.remove('up');\n  scoreElement.textContent = score;\n}\n\n/*\n * Initialise\n */\n\nstartBtn.addEventListener('click', startGame);\nmoleElements.forEach(mole => mole.addEventListener('click', bonk));\n"]}